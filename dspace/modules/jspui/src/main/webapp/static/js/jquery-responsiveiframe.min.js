/*! wordpress-theme-ipleiria - v0.6.0 - 2015-01-19
* http://ipleiria.pt
* Copyright (c) 2015 Cláudio Esperança <claudio.esperanca@ipleiria.pt>; License GPLv3 */
"undefined"!=typeof jQuery&&!function(a){var b={},c={xdomain:"*",ie:navigator.userAgent.toLowerCase().indexOf("msie")>-1,scrollToTop:!0,autoHeight:!0},d={init:function(){return this.each(function(){var c=a(this);c.css({height:0,overflow:"hidden",display:"block"}).attr("scrolling","no"),c.on("ResponsiveIframeToggle",function(a){e.expand(c,a,{expand:!c.data("autoHeight")})}),c.on("ResponsiveIframeOpen",function(a){e.expand(c,a,{expand:!0})}),c.on("ResponsiveIframeClose",function(a){e.expand(c,a,{expand:!1})}),c.data("autoHeight",b.autoHeight),window.postMessage?window.addEventListener?window.addEventListener("message",function(a){e.messageHandler(c,a)},!1):window.attachEvent&&window.attachEvent("onmessage",function(a){e.messageHandler(c,a)},c):setInterval(function(){var a=window.location.hash,d=a.match(/^#h(\d+)(s?)$/);d&&(e.setHeight(c,d[1]),b.scrollToTop&&"s"===d[2]&&scroll(0,0))},150)})},isExpanded:function(a){return a.data("autoHeight")}},e={messageHandler:function(a,c){if(!c.data.url||!a.attr("src")||a.attr("src")===c.data.url){var d,f,g,h;if("*"!==b.xdomain){var i=new RegExp(b.xdomain+"$");if("null"==c.origin)throw new Error("messageHandler( elem, e): There is no origin.  You are viewing the page from your file system.  Please run through a web server.");if(!c.origin.match(i))throw new Error("messageHandler( elem, e): The orgin doesn't match the responsiveiframe  xdomain.");g=!0}if(("*"===b.xdomain||g)&&(h=c.data.height+"",f=h.match(/^(\d+)(s?)$/),f&&3===f.length)){if(d=parseInt(f[1],10),!isNaN(d))try{e.setHeight(a,d)}catch(j){}b.scrollToTop&&"s"===f[2]&&scroll(0,0)}}},setHeight:function(a,b){!a.data("expanding")&&b>0&&a.data("cachedHeight",b),a.data("autoHeight")&&a.css("height",b+"px")},getDocHeight:function(){var a=document;return Math.min(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))},expand:function(a,b,c){a.data("expanding")||(c.expand?a.data("autoHeight")||(a.data("expanding",!0),a.show(),a.animate({height:a.data("cachedHeight")||0},400,function(){a.data("autoHeight",!0),a.data("expanding",!1)})):a.data("autoHeight")&&(a.data("expanding",!0),a.data("autoHeight",!1),a.animate({height:0},400,function(){a.toggleClass("open"),a.hide(),a.data("expanding",!1)})))}};a.fn.responsiveIframe=function(e){return d[e]?d[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void a.error("Method "+e+" does not exist on jQuery.responsiveIframe"):(a.extend(b,c,arguments[0]),d.init.apply(this))}}(jQuery.noConflict()),function(a){function b(){return new e}var c,d,e=function(){c=this};e.prototype.allowResponsiveEmbedding=function(){window.addEventListener?window.addEventListener("load",c.onload,!1):window.attachEvent&&window.attachEvent("onload",c.onload)},e.prototype.onload=function(b){a&&a("a[target=_self],a:not([target])").attr("target","_top"),c.messageParent(b),window.addEventListener?window.addEventListener("resize",c.messageParent,!1):window.attachEvent&&window.attachEvent("onresize",c.messageParent)},e.prototype.messageParent=function(b){var c=document.body.offsetHeight;a&&a("#ipleiria-bar-contents").length>0&&(c=a("#ipleiria-bar-contents").height()),c=b?c+"s":c,parent.postMessage?parent.postMessage({height:c,url:window.location.href},"*"):window.location.hash="h"+c},"undefined"==typeof exports?window.responsiveIframe=b:d.exports.responsiveIframe=b}(jQuery.noConflict());